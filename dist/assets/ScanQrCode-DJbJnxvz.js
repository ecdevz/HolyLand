import{_ as p,W as m,L as f,U as h,c as r,a as e,h as i,d as _,e as g,r as d,t as l,o}from"./index-DkYQcLuh.js";const v={name:"ScanQrCode",data(){return{detectedQrCode:"",data:null,isfetching:!1,isdata:!1,error:null,streamKey:0}},components:{QrcodeStream:h,QrcodeDropZone:f,QrcodeCapture:m},methods:{fetchData(n){fetch(`https://script.google.com/macros/s/AKfycbyGzrVU7RTZXkpX0tuTvGhtVBNI3r7uBTEA5lVgzCOIbhf1APs7tnqYAfIuncjWNkMZ0g/exec?option=test1&searchData=${n}`).then(s=>s.json()).then(s=>{s.status===200?(this.data=s.message,this.isfetching=!1,this.isdata=!0,this.resetQrCodeStream()):(this.error="No data found.",this.isfetching=!1)}).catch(s=>{console.error(s),this.error="An error occurred while fetching data from the server. Please try again later.",this.isfetching=!1})},onDetect(n){n&&(console.log(n),this.isfetching=!0,this.isdata=!1,this.error=null,this.fetchData(n[0].rawValue))},resetQrCodeStream(){this.streamKey+=1}}},C={class:"scan-qr-code"},D={class:"scan-media"},Q={key:0,class:"loading"},y={key:1,class:"info"},N={class:"card"},A={class:"item"},k={class:"item"},B={class:"item"},S={class:"item"},T={class:"item"},I={class:"item"},V={class:"item"};function E(n,s,U,q,t,a){const c=d("qrcode-stream"),u=d("QrcodeCapture");return o(),r("div",C,[e("div",D,[(o(),_(c,{key:t.streamKey,class:"camera",onDetect:a.onDetect},null,8,["onDetect"])),g(u,{class:"upload",onDetect:a.onDetect},null,8,["onDetect"])]),e("p",null,l(t.error),1),t.isfetching?(o(),r("div",Q,s[0]||(s[0]=[e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1)]))):i("",!0),t.isdata?(o(),r("div",y,[s[8]||(s[8]=e("h2",null,"Information",-1)),e("div",N,[e("div",A,[s[1]||(s[1]=e("p",null,"ID:",-1)),e("p",null,l(t.data[0]),1)]),e("div",k,[s[2]||(s[2]=e("p",null,"NAME:",-1)),e("p",null,l(t.data[1]),1)]),e("div",B,[s[3]||(s[3]=e("p",null,"NIC NUMBER:",-1)),e("p",null,l(t.data[2]),1)]),e("div",S,[s[4]||(s[4]=e("p",null,"BATCH:",-1)),e("p",null,l(t.data[3]),1)]),e("div",T,[s[5]||(s[5]=e("p",null,"CONTACT:",-1)),e("p",null,l(t.data[4]),1)]),e("div",I,[s[6]||(s[6]=e("p",null,"STATUS:",-1)),e("p",null,l(t.data[5]),1)]),e("div",V,[s[7]||(s[7]=e("p",null,"QRCODE:",-1)),e("p",null,l(t.data[6]),1)])])])):i("",!0)])}const K=p(v,[["render",E],["__scopeId","data-v-132b8cfa"]]);export{K as default};
