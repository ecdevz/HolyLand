import{_ as C,c as L,a as s,w as y,v as x,b as k,t as I,o as p,d as b,e as c,f as m,r as v,g as h}from"./index-DkYQcLuh.js";/*! js-cookie v3.0.5 | MIT */function u(r){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var l in a)r[l]=a[l]}return r}var A={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function w(r,e){function a(o,t,n){if(!(typeof document>"u")){n=u({},e,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var d in n)n[d]&&(i+="; "+d,n[d]!==!0&&(i+="="+n[d].split(";")[0]));return document.cookie=o+"="+r.write(t,o)+i}}function l(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var t=document.cookie?document.cookie.split("; "):[],n={},i=0;i<t.length;i++){var d=t[i].split("="),g=d.slice(1).join("=");try{var f=decodeURIComponent(d[0]);if(n[f]=r.read(g,f),o===f)break}catch{}}return o?n[o]:n}}return Object.create({set:a,get:l,remove:function(o,t){a(o,"",u({},t,{expires:-1}))},withAttributes:function(o){return w(this.converter,u({},this.attributes,o))},withConverter:function(o){return w(u({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var _=w(A,{path:"/"});const U={name:"Login",data(){return{username:"",password:"",error:""}},methods:{login(){this.username==="btdtholi"&&this.password==="btdt.sky7"?(_.set("isLoggedIn","true",{expires:1}),this.$emit("login-success")):this.error="Invalid username or password"}}},D={class:"login"},R={class:"container"},B={class:"form"},S={class:"error"};function j(r,e,a,l,o,t){return p(),L("div",D,[s("div",R,[e[4]||(e[4]=s("h1",null,"Login",-1)),s("div",B,[y(s("input",{type:"text",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=n=>o.username=n),required:""},null,512),[[x,o.username]]),y(s("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=n=>o.password=n),onKeyup:e[2]||(e[2]=k((...n)=>t.login&&t.login(...n),["enter"])),required:""},null,544),[[x,o.password]]),s("p",S,I(o.error),1),s("button",{onClick:e[3]||(e[3]=(...n)=>t.login&&t.login(...n))},"Login")])])])}const V=C(U,[["render",j],["__scopeId","data-v-83f4b797"]]),q={name:"AdminDashboard",components:{Login:V},data(){return{isAlreadyLogin:_.get("isLoggedIn")==="true"}},methods:{handleLoginSuccess(){this.isAlreadyLogin=!0},handleLogout(){_.remove("isLoggedIn"),this.isAlreadyLogin=!1}},beforeMount(){document.body.style.backgroundImage="none"}},E={class:"dashboard"},F={key:1,class:"main"};function O(r,e,a,l,o,t){const n=v("Login"),i=v("RouterLink"),d=v("router-view");return p(),L("div",E,[o.isAlreadyLogin?(p(),L("div",F,[s("header",null,[e[1]||(e[1]=s("h1",null,"Admin Dashboard",-1)),s("button",{onClick:e[0]||(e[0]=(...g)=>t.handleLogout&&t.handleLogout(...g))},"Logout")]),s("nav",null,[c(i,{to:"/dashboard/search","active-class":"active"},{default:m(()=>e[2]||(e[2]=[h("Search")])),_:1}),c(i,{to:"/dashboard/scanqr","active-class":"active"},{default:m(()=>e[3]||(e[3]=[h("Scan QR")])),_:1}),c(i,{to:"/dashboard/all","active-class":"active"},{default:m(()=>e[4]||(e[4]=[h("All")])),_:1})]),s("main",null,[c(d)]),e[5]||(e[5]=s("footer",null,[s("p",null,"Â© 2021")],-1))])):(p(),b(n,{key:0,onLoginSuccess:t.handleLoginSuccess},null,8,["onLoginSuccess"]))])}const K=C(q,[["render",O],["__scopeId","data-v-1bc2a064"]]);export{K as default};
